<h1>Products - Overview</h1>
<blockquote>An overview of how the product API endpoints should be implemented</blockquote>
<h3>Product Group Formats</h3>
<p>
    An item can be represented as one of two <a class="link" href="#/ng_api/api_r_m_productgroup">ProductGroup</a>
    formats when
    it is sent by Voyageone to your API: standalone and variation.
</p>

<h4>Standalone Product Groups</h4>
<p>
    Items that have no variation relationship are communicated as a variation containing one buyable item.
    In this case, the seller SKU provided for the variation group will match that of the sole buyable item.
    This format is intended to simplify the data contract necessary to communicate product data between systems.
</p>

<h5>Example Standalone Product Group</h5>
<blockquote>
    <div class="codehilite_ol_long">
        <ol>
            <li>{</li>
            <li>    "SellerSKU": "REBEL X-WING", </li>
            <li>    "Fields": [</li>
            <li>        {</li>
            <li>            "Name": "title", </li>
            <li>            "Value": "Rebel X-Wing"</li>
            <li>        }, </li>
            <li>        {</li>
            <li>            "Name": "description", </li>
            <li>            "Value": "Got a Death Star porblem at your base? Take it out with this small craft (PS, aim for the 2-meter exhaust port). Buy now! Republic credits not accepted."</li>
            <li>        }, </li>
            <li>        {</li>
            <li>            "Name": "category", </li>
            <li>            "Value": "Transportation : Spacecraft : Single-Passenger"</li>
            <li>        }, </li>
            <li>        {</li>
            <li>            "Name": "brand", </li>
            <li>            "Value": "Rebel Forces, Inc."</li>
            <li>        }, </li>
            <li>        {</li>
            <li>            "Name": "productgroupimageurl1", </li>
            <li>            "Value": "http://courses.cs.washington.edu/courses/cse455/08wi/projects/project3/web/artifacts/jonobird-ncall/artifact/xw1.jpg"</li>
            <li>        }</li>
            <li>    ], </li>
            <li>    "BuyableProducts": [</li>
            <li>        {</li>
            <li>            "SellerSKU": "REBEL X-WING", </li>
            <li>            "Quantity": 23, </li>
            <li>            "ListingStatus": "Live", </li>
            <li>            "Fields": [</li>
            <li>                {</li>
            <li>                    "Name": "price", </li>
            <li>                    "Value": "100.00"</li>
            <li>                }, </li>
            <li>                {</li>
            <li>                    "Name": "color", </li>
            <li>                    "Value": "gray"</li>
            <li>                }, </li>
            <li>                {</li>
            <li>                    "Name": "size", </li>
            <li>                    "Value": "one-man"</li>
            <li>                }</li>
            <li>            ]</li>
            <li>        }</li>
            <li>    ]</li>
            <li>}</li>
        </ol>
    </div>
</blockquote>

<h4>Variation Product Groups</h4>
<p>
    Some products are listed as multiple variations of a single product listing. For example, a polo shirt may
    be listed conceptually as one product that’s available in small, medium, and large sizes. In this example,
    the polo shirt listing on the site functions as a grouping mechanism for each of the specifically sized
    buyable items. In the taxonomy, we specify that certain fields exist at the group level while others exist at
    the buyable item level. This is done in order that we can clearly specify information that pertains to the
    group as opposed to pertaining specifically to a variation. When dealing with a variation, all fields specified a
    “group”
    attribute will have their values replaced by the same field taken from the variation group. When the field
    is specified with a “buyable” attribute, then the value of the variation is used.
</p>
<p>
    If your system does not support the concept of variations, please let us know when filling out your system survey.
    In that case, we will split all variation groups into standalone groups prior to sending requests.
</p>

<h5>Example Variation Product Group</h5>
<blockquote>
    <div class="codehilite_ol_long">
        <ol>
            <li>{</li>
            <li>    "SellerSKU": "LIGHTSABER", </li>
            <li>    "Fields": [</li>
            <li>        {</li>
            <li>            "Name": "title", </li>
            <li>            "Value": "Lightsaber"</li>
            <li>        }, </li>
            <li>        {</li>
            <li>            "Name": "description", </li>
            <li>            "Value": "This is the weapon of a Jedi Knight. Not as clumsy or random as a blaster; an elegant weapon for a more civilized age."</li>
            <li>        }, </li>
            <li>        {</li>
            <li>            "Name": "category", </li>
            <li>            "Value": "Civilized Weapons"</li>
            <li>        }, </li>
            <li>        {</li>
            <li>            "Name": "brand", </li>
            <li>            "Value": "Jedi Knights"</li>
            <li>        }, </li>
            <li>        {</li>
            <li>            "Name": "productgroupimageurl1", </li>
            <li>            "Value": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/Dueling_lightsabers.svg/2000px-Dueling_lightsabers.svg.png"</li>
            <li>        }</li>
            <li>    ], </li>
            <li>    "BuyableProducts": [</li>
            <li>        {</li>
            <li>            "SellerSKU": "LIGHTSABER_RED_MED", </li>
            <li>            "Quantity": 14, </li>
            <li>            "ListingStatus": "Live", </li>
            <li>            "Fields": [</li>
            <li>                {</li>
            <li>                    "Name": "price", </li>
            <li>                    "Value": "14.56"</li>
            <li>                }, </li>
            <li>                {</li>
            <li>                    "Name": "color", </li>
            <li>                    "Value": "red"</li>
            <li>                }, </li>
            <li>                {</li>
            <li>                    "Name": "size", </li>
            <li>                    "Value": "medium"</li>
            <li>                }</li>
            <li>            ]</li>
            <li>        }, </li>
            <li>        {</li>
            <li>            "SellerSKU": "LIGHTSABER_RED_LG", </li>
            <li>            "Quantity": 9, </li>
            <li>            "ListingStatus": "Live", </li>
            <li>            "Fields": [</li>
            <li>                {</li>
            <li>                    "Name": "price", </li>
            <li>                    "Value": "15.56"</li>
            <li>                }, </li>
            <li>                {</li>
            <li>                    "Name": "color", </li>
            <li>                    "Value": "red"</li>
            <li>                }, </li>
            <li>                {</li>
            <li>                    "Name": "size", </li>
            <li>                    "Value": "large"</li>
            <li>                }</li>
            <li>            ]</li>
            <li>        }, </li>
            <li>        {</li>
            <li>            "SellerSKU": "LIGHTSABER_BLUE_MED", </li>
            <li>            "Quantity": 17, </li>
            <li>            "ListingStatus": "Live", </li>
            <li>            "Fields": [</li>
            <li>                {</li>
            <li>                    "Name": "price", </li>
            <li>                    "Value": "11.56"</li>
            <li>                }, </li>
            <li>                {</li>
            <li>                    "Name": "color", </li>
            <li>                    "Value": "blue"</li>
            <li>                }, </li>
            <li>                {</li>
            <li>                    "Name": "size", </li>
            <li>                    "Value": "medium"</li>
            <li>                }</li>
            <li>            ]</li>
            <li>        }, </li>
            <li>        {</li>
            <li>            "SellerSKU": "LIGHTSABER_BLUE_LG", </li>
            <li>            "Quantity": 15, </li>
            <li>            "ListingStatus": "Live", </li>
            <li>            "Fields": [</li>
            <li>                {</li>
            <li>                    "Name": "price", </li>
            <li>                    "Value": "12.56"</li>
            <li>                }, </li>
            <li>                {</li>
            <li>                    "Name": "color", </li>
            <li>                    "Value": "blue"</li>
            <li>                }, </li>
            <li>                {</li>
            <li>                    "Name": "size", </li>
            <li>                    "Value": "large"</li>
            <li>                }</li>
            <li>            ]</li>
            <li>        }</li>
            <li>    ]</li>
            <li>}</li>
        </ol>
    </div>
</blockquote>

<h3>Product Data Fields</h3>
<p>
    All product details (such as title, description, and images) are sent to the API by way of a
    <a class="link" href="#/ng_api/api_r_m_field">Field</a> array on the <a class="link"
                                                                            href="#/ng_api/api_r_m_productgroup">ProductGroup</a>
    and
    <a class="link" href="#/ng_api/api_r_m_buyableproduct">BuyableProduct</a> API models. All <a class="link"
                                                                                                 href="#/ng_api/api_r_m_field">Field</a>
    values you may expect to be sent to your API are listed on the
    <a class="link" href="#/ng_api/api_fields">Product Fields</a> page of this site.
</p>

<h5>Example Product Field</h5>
<blockquote>
    <div class="codehilite">
        <ol>
            <li>{</li>
            <li>    "Name": "description", </li>
            <li>    "Value": "Got a Death Star porblem at your base? Take it out with this small craft (PS, aim for the 2-meter exhaust port). Buy now! Republic credits not accepted."</li>
            <li>}</li>
        </ol>
    </div>
</blockquote>

<p>Please note that not all fields are sent on all payloads. Please note the following criteria for when fields will be
    sent:</p>
<ul>
    <li>All available product fields are included in the payload that is sent to the <a class="link"
                                                                                        href="#/ng_api/api_r_e_createupdate">Create
        and update products</a> API endpoint
    </li>
    <li>The price field is the only field sent to the <a class="link" href="#/ng_api/api_r_e_updateprice">Update
        products quantity and price</a> API endpoint
    </li>
    <li>No fields are included in the payload of any other endpoint</li>
</ul>

<h4>Categorization Mapping</h4>
<p>
    One field that is provided on the default taxonomy is the category field. It is a required field for creating a
    product and is included with each call to the API to update the full product details. Much like a product’s title
    or description, the category is an editable field that the seller may change at any time.
</p>
<p>
    If your site has a predefined list of categories that it supports, you may supply that list to Voyageone.
    This will allow a seller to list products on your site in the correct category, we will however not restrict the
    seller to this list.
    For an enhanced on-boarding experience, you may provide mappings between your site categories and those of another
    site
    supported by Voyageone (i.e. eBay, Amazon, etc). This is highly recommended. If you supply no custom
    categorization,
    the value entered by the seller is sent by default.
</p>

<h4>Field Data Validation</h4>
<p>
    Because the integration that Voyageone will be running to your API is designed to be completely generic,
    only the most rudimentary validation is done against the values that the seller populates for these fields.
    For example:
</p>
<ul>
    <li>
        If a field is marked as <span class="bg-info">Required</span>,
        its value is guaranteed to not be empty. If it is not required and the seller does not populate a value,
        empty string will be sent as the value.
    </li>
    <li>
        If a field has a value and its data type is numeric,
        that value is guaranteed to be a number.
    </li>
    <li>
        If a field has a value and its data type is gtin,
        that value will fit the standards for global trade item numbers as defined by the spec at
        <a class="link" href="http://www.gtin.info/">gitn.info</a>.
    </li>
</ul>
<p>
    These are the only validation rules enforced by our application for the boilerplate field set. Any seller data that
    obeys these basic
    rules will be passed on to your API by default. Because of the site-agnostic nature of this generic integration,
    we cannot perform any site-specific validation on any of these fields (except for category) using the default
    taxonomy.
    If you have any product data requirements that are enforced by your system, your API must either:
</p>
<ul>
    <li>Return a helpful <a class="link" href="#/ng_api/api_r_m_error">Error</a> array indicating what is wrong with the
        seller's data, or
    </li>
    <li>
        Auto-correct the seller's data (for example, if your system requires a salestartdate
        but the seller does not specify one, you could default it to the current date).
    </li>
</ul>

<h4>Custom Fields</h4>
<p>
    For some sites, the boilerplate fields listed on the
    <a class="link" href="#/ng_api/api_fields">Product Fields</a> page of this site may not be sufficient.
    If you think this is the case, you may reach out to your Voyageone business contact about
    Voyageone implementing a custom product taxonomy for your channel. This taxonomy will implement
    a product categorization hierarchy, field structure, and allowed values as you define so that
    there will be minimal work required on your end to map the API product model we send to your internal system.
    Additionally, you will be able to specify some data types and validation rules using a custom taxonomy.
</p>
<p>
    For example, you can indicate:
</p>
<ul>
    <li>that a field only applies to specific categories</li>
    <li>the data type of a field (string, boolean, numeric, integer, url, GTIN, datetime, etc)</li>
    <li>the priority of a field (required, conditionally required, recommended, or optional)</li>
    <li>allowed values of a field</li>
    <li>valid value ranges of a field (greater than, less than, min, max, etc)</li>
</ul>
<p></p>
<p>
    <span style="font-weight: bold;">NOTE:</span> There may be an extra cost associated with
    the development and implementation of a custom taxonomy.
</p>

<h3>Special notes</h3>

<h4>Long-running batch workflow</h4>
<p>
    If your system is not able to complete processing of the batch sent to the
    <a class="link" href="#/ng_api/api_r_e_createupdate">Create and update products</a> endpoint
    within the time limits set by the <a class="link" href="#/ng_api/api_sars">asynchronous polling timeout window</a>
    (by default 5 minutes), then you should mark that batch response with a <a class="link"
                                                                               href="#/ng_api/api_r_m_responsestatus">ResponseStatus</a>
    of
    0 / AsyncResponsePending and supply a URL which will be used in the next content update process:
</p>

<h5>Example Pending Batch Response</h5>
<blockquote>
    <div class="codehilite">
        <ol>
            <li>{</li>
            <li>    "ResponseBody": null, </li>
            <li>    "Status": "AsyncResponsePending", </li>
            <li>    "PendingUri": "http://api.your-url.com/v1/pending-responses?workItemID=123456", </li>
            <li>    "Errors": [ ]</li>
            <li>}</li>
        </ol>
    </div>
</blockquote>
<h4>Definition of "Live" and "Success"</h4>
<p>
    A <a class="link" href="#/ng_api/api_r_m_requestresult">RequestResult</a> of 0 / Success or a <a class="link"
                                                                                                     href="#/ng_api/api_r_m_listingstatus">ListingStatus</a>
    of 0 / Live returned from any of the <a class="link" href="#/ng_api/api_ae">product endpoints</a>
    indicates that the specified product is now published and live on your site, visible to clients, and ready for
    purchase by site visitors. It is
    <span style="font-style: italic;">not</span> to be used to indicate that the product has been "queued for
    processing" or "submitted for review."
</p>
<p>
    If your system cannot finish processing and publishing a product within the allowed
    <a class="link" href="#/ng_api/api_sars">asynchronous polling timeout window</a>,
    please do not return a <a class="link" href="#/ng_api/api_r_m_requestresult">RequestResult</a> of 0 / Success
    or a <a class="link" href="#/ng_api/api_r_m_listingstatus">ListingStatus</a> of 0 / Live for the specified product.
    Instead, please
    follow the guidelines in the Long-running batch workflow for product creation / updates.
</p>
